# Progress Log

## Learnings
(Patterns discovered during implementation)
- CustomTkinter uses `ctk.set_appearance_mode("Dark")` before creating app instance
- Window config goes in `__init__`: title(), geometry(), minsize()
- Grid layout configured with `grid_rowconfigure` and `grid_columnconfigure`
- Database singleton uses `_instance` class variable with `__new__` override
- platformdirs `user_data_dir()` returns platform-specific data directory
- SQLite WAL mode: `PRAGMA journal_mode=WAL`
- Use `sqlite3.Row` row_factory for dict-like access to columns
- Use `grid_propagate(False)` to keep frame fixed size
- Fixed column: `grid_columnconfigure(col, weight=0, minsize=N)`, expanding: `weight=1`
- fg_color tuple provides light/dark theme variants: `("lightColor", "darkColor")`

---

## Iteration 1 - US-001: Project scaffolding and app window
- What was implemented: Basic CustomTkinter app structure with 900x700 window, dark theme, title, and minimum size constraints
- Files changed: main.py (already existed with correct implementation), requirements.txt (dependencies: customtkinter, pillow, platformdirs)
- Learnings for future iterations:
  - The initial code was already well-structured following CustomTkinter best practices
  - Use `ctk.set_appearance_mode()` and `ctk.set_default_color_theme()` before creating the app instance
  - Grid layout with weight=1 makes content expand to fill window
---

## Iteration 2 - US-002: SQLite database and schema
- What was implemented: Database module with singleton pattern, SQLite storage in user data directory
- Files changed: database.py (new), main.py (added db initialization)
- Learnings for future iterations:
  - Database singleton ensures single connection across app
  - Tables created: tasks (with parent_id for subtasks), user_profile, pet_state
  - Default records auto-created for user_profile and pet_state
  - WAL mode enabled for better concurrent access
  - Foreign keys enabled with ON DELETE CASCADE for subtasks
---

## Iteration 3 - US-003: Main layout with sidebar and content area
- What was implemented: Two-column layout with fixed 200px sidebar and responsive content area
- Files changed: main.py (replaced placeholder with sidebar and content area)
- Learnings for future iterations:
  - Use `grid_propagate(False)` on frames to prevent them from shrinking to fit content
  - For fixed-width columns: `grid_columnconfigure(col, weight=0, minsize=N)`
  - For expanding columns: `grid_columnconfigure(col, weight=1)`
  - Different fg_color tuples for light/dark mode: `("gray90", "gray17")`
  - Visual separation achieved with different background colors
  - Placeholders left for pet area (US-004) and task list (US-005)
---
